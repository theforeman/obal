---
- name: 'Set source checkout location'
  set_fact:
    setup_sources_git_checkout_dir: "/tmp/ansible_git_{{ inventory_hostname }}"

- name: 'Clone latest git'
  git:
    repo: "{{ setup_sources_git }}"
    dest: "{{ setup_sources_git_checkout_dir }}"
    version: "{{ git_branch | default(omit) }}"
    force: true
    depth: 1
