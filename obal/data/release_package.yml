---
- hosts: localhost
  connection: local
  gather_facts: no
  tasks:
    - name: install required packages
      yum:
        name: "{{ item }}"
        state: present
      become: true
      with_items:
        - rpm-build
        - koji
        - brewkoji
        - git-annex
        - quvi
        - tito
        - rhpkg
        - scl-utils
        - scl-utils-build

- hosts: packages
  serial: 1
  gather_facts: no
  roles:
    - git_annex_setup
    - ensure_package
    - setup_sources
    - diff_brew_package
    - check_builds
    - build_package
